#防止超卖

- 乐观锁
    - 在数据上增加版本号字段
    - 查询需要修改数据的版本号
    - 更新数据，加上版本号的条件，如果不是当前查询的版本号，则修改失败，回滚或者重试
- redis watch命令

#秒杀

- 预先生成秒杀数据，并递增id
    - 更新数据使用，redis 自赠id，incr

- 